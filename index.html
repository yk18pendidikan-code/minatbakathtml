<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Tes Minat Bakat RIASEC</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
:root{
  --R:#ff4d4d;
  --I:#ff944d;
  --A:#9b59b6;
  --S:#4da6ff;
  --E:#2ecc71;
  --C:#34495e;
  --bg:#f4f6fb;
  --card:#fff;
  --text:#222;
}

*{box-sizing:border-box}

body{
  font-family:Segoe UI,Arial;
  background:var(--bg);
  margin:0;
  color:var(--text);
}

.container{max-width:900px;margin:auto;padding:20px}
.card{
  background:var(--card);
  border-radius:14px;
  padding:20px;
  margin-bottom:18px;
  box-shadow:0 4px 12px rgba(0,0,0,.06);
}

.center{text-align:center}
.logo-wrap{text-align:center;margin-bottom:10px}
.logo-wrap img{max-width:140px}

button{
  background:#2b4eff;
  color:#fff;
  border:none;
  padding:12px;
  border-radius:10px;
  cursor:pointer;
  width:100%;
  font-size:15px;
}

.section-title{
  font-weight:700;
  font-size:18px;
  margin-bottom:10px;
}

.question{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:12px 0;
  gap:10px;
}

.scale{display:flex;gap:10px}

.scale input{
  appearance:none;
  width:22px;
  height:22px;
  border-radius:50%;
  border:2px solid #aaa;
  cursor:pointer;
}

.scale input[value="1"]{border-color:#ff4d4d}
.scale input[value="2"]{border-color:#ff944d}
.scale input[value="3"]{border-color:#999}
.scale input[value="4"]{border-color:#4da6ff}
.scale input[value="5"]{border-color:#2b4eff}

.scale input:checked{
  background:currentColor;
}

.scale input[value="1"]:checked{color:#ff4d4d}
.scale input[value="2"]:checked{color:#ff944d}
.scale input[value="3"]:checked{color:#999}
.scale input[value="4"]:checked{color:#4da6ff}
.scale input[value="5"]:checked{color:#2b4eff}

#pdfArea{
  width:210mm;
  min-height:297mm;
  padding:10mm;
  background:#fff;
}

canvas{max-width:180mm;margin:auto}

.btn-row{
  display:flex;
  gap:10px;
  justify-content:center;
  margin-top:15px;
  flex-wrap:wrap;
}

.print-btn{background:#00a86b}

@media(max-width:700px){
  .question{flex-direction:column;align-items:flex-start}
}
</style>
</head>

<body>

<div class="container" id="halamanTes">
  <div class="logo-wrap"><img src="logo2.png"></div>
  <h1 class="center">Tes Minat & Bakat RIASEC</h1>

  <div id="quiz"></div>

  <div class="card center">
    <button onclick="hitung()">Lihat Hasil</button>
  </div>
</div>

<div class="container" id="halamanHasil" style="display:none"></div>

<script>
const questions={
R:[
"Saya suka bekerja menggunakan alat atau mesin",
"Saya lebih senang bekerja secara fisik",
"Saya tertarik memperbaiki atau merakit barang",
"Saya menyukai aktivitas luar ruangan",
"Saya nyaman bekerja dengan tangan"
],
I:[
"Saya senang memecahkan masalah kompleks",
"Saya tertarik pada eksperimen atau penelitian",
"Saya suka menganalisis data atau angka",
"Saya senang berpikir logis dan sistematis",
"Saya tertarik pada sains dan teknologi"
],
A:[
"Saya suka mengekspresikan ide secara kreatif",
"Saya tertarik pada seni, musik, atau desain",
"Saya tidak suka pekerjaan yang terlalu kaku",
"Saya menikmati kebebasan dalam bekerja",
"Saya suka menulis, menggambar, atau mencipta"
],
S:[
"Saya senang membantu orang lain",
"Saya tertarik mengajar atau membimbing",
"Saya nyaman bekerja dalam tim",
"Saya peduli pada perasaan orang lain",
"Saya mudah berkomunikasi"
],
E:[
"Saya suka memimpin dan mengatur orang",
"Saya percaya diri menyampaikan pendapat",
"Saya tertarik pada bisnis atau usaha",
"Saya suka menantang diri mencapai target",
"Saya persuasif dalam bernegosiasi"
],
C:[
"Saya rapi dan teratur",
"Saya teliti terhadap detail",
"Saya suka bekerja dengan data atau administrasi",
"Saya patuh pada aturan dan prosedur",
"Saya nyaman dengan pekerjaan terstruktur"
]
};

const detail={
R:{nama:"Realistic",desc:"Praktis, teknis, menyukai kerja fisik",jur:["Teknik Mesin","Teknik Sipil","Teknik Elektro","Otomotif"]},
I:{nama:"Investigative",desc:"Analitis, ilmiah, intelektual",jur:["Kedokteran","Farmasi","Biologi","Informatika"]},
A:{nama:"Artistic",desc:"Kreatif, ekspresif, imajinatif",jur:["DKV","Seni Rupa","Musik","Sastra"]},
S:{nama:"Social",desc:"Membantu, komunikatif, empatik",jur:["Pendidikan","Psikologi","Keperawatan","BK"]},
E:{nama:"Enterprising",desc:"Persuasif, kepemimpinan, ambisius",jur:["Manajemen","Bisnis","Hukum","Marketing"]},
C:{nama:"Conventional",desc:"Terstruktur, teliti, administratif",jur:["Akuntansi","Administrasi","Perbankan","Manajemen Data"]}
};

const quiz=document.getElementById("quiz");

for(let k in questions){
  let card=document.createElement("div");
  card.className="card";
  card.innerHTML=`<div class="section-title">${k} - ${detail[k].nama}</div>`;
  questions[k].forEach((q,i)=>{
    card.innerHTML+=`
    <div class="question">
      <span>${q}</span>
      <div class="scale">
        ${[1,2,3,4,5].map(v=>`
          <input type="radio" name="${k}_${i}" value="${v}" ${v==3?"checked":""}>
        `).join("")}
      </div>
    </div>`;
  });
  quiz.appendChild(card);
}

function hitung(){
  let skor={};
  for(let k in questions){
    skor[k]=0;
    questions[k].forEach((_,i)=>{
      skor[k]+=+document.querySelector(`input[name="${k}_${i}"]:checked`).value;
    });
  }

  let urut=Object.entries(skor).sort((a,b)=>b[1]-a[1]);

  halamanTes.style.display="none";
  halamanHasil.style.display="block";

  halamanHasil.innerHTML=`
  <div id="pdfArea">
    <div class="logo-wrap"><img src="logo2.png"></div>
    <h1 class="center">Hasil Tes RIASEC</h1>

    <canvas id="chart"></canvas>

    ${urut.slice(0,3).map(u=>`
      <div class="card">
        <h3>${u[0]} - ${detail[u[0]].nama}</h3>
        <p>${detail[u[0]].desc}</p>
        <b>Rekomendasi Jurusan:</b>
        <ul>${detail[u[0]].jur.map(j=>`<li>${j}</li>`).join("")}</ul>
      </div>
    `).join("")}
  </div>

  <div class="btn-row">
    <button class="print-btn" onclick="window.print()">Cetak</button>
    <button onclick="html2pdf().from(pdfArea).save('Hasil_RIASEC.pdf')">Download PDF</button>
  </div>`;

  new Chart(chart,{
    type:"radar",
    data:{
      labels:Object.keys(skor),
      datasets:[{
        data:Object.values(skor),
        backgroundColor:"rgba(43,78,255,.2)",
        borderColor:"#2b4eff"
      }]
    },
    options:{scales:{r:{beginAtZero:true}}}
  });
}
</script>

</body>
</html>
